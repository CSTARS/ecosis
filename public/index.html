<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <title>EcoSIS - Spectral Library</title>

  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <link rel="shortcut icon" href="assets/favicon.ico" />
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#63A442">

  <meta name="description" content="EcoSIS, Ecological Spectral Information System, Spectral Library">
  <meta name="keywords" content="EcoSIS, Ecological, Spectral, Library">

  <link rel="icon" sizes="192x192" href="/assets/icon_192.png">
  <link rel="icon" sizes="128x128" href="/assets/icon_128.png">
  <link rel="apple-touch-icon" sizes="128x128" href="/assets/icon_128.png">
  <link rel="apple-touch-icon-precomposed" sizes="128x128" href="/assets/icon_128.png">

  <script src="js/webcomponents.js"></script>
  <link rel="stylesheet" href="font-awesome/css/font-awesome.css">
  <script type="text/javascript" src="mqe/resources/mqe.js"></script>
  <link rel="import" href="require.html">

  <script type="text/javascript" src="https://www.google.com/jsapi"></script>
  <script type="text/javascript">
      google.load('visualization', '1', {packages: ['corechart','line']});
      google.setOnLoadCallback(function(){
        initchart();
        window.chartReady = true;
      });
  </script>

  <style>
    .splash {
      background: url(../assets/banner-slim.png) no-repeat center top;
      margin-top: 0px;
      padding: 60px 0;
      /*padding-top: 60px;*/
      text-align: center;
      /*background-attachment: relative;*/
      background-position: center center;
      min-height: 400px;
      width: 100%;
      -webkit-background-size: 100%;
      -moz-background-size: 100%;
      -o-background-size: 100%;
      background-size: 100%;
      -webkit-background-size: cover;
      -moz-background-size: cover;
      -o-background-size: cover; */
      /* background-size: cover; */
    }
    .splash h1 {
      color: white;
      letter-spacing: 10px;
      text-shadow: 0 0 15px #333;
      padding-left: 30px;
      padding-right: 30px;
    }
    .splash h1 div {
      font-size:2em;
    }
    .splash h3 {
      color: white;
      letter-spacing: 5px;
      text-shadow: 0 0 15px #333;
    }
    .splash-url {
      letter-spacing: 5px;
      color:white;
      margin: 20px 0;
      padding: 20px 0;
      border-top: 3px solid white;
      border-bottom: 3px solid white;
    }

    @media(max-width: 680px) {
      .splash h1 {
        letter-spacing: 5px;
        padding-left: 15px;
        padding-right: 15px;
      }
      .splash h1 div {
        font-size:1.5em;
      }
      .splash h3 {
        letter-spacing: 2px;
      }
      .splash-url {
        letter-spacing: 2px;
        margin: 10px 0;
        padding: 10px 0;
      }
    }
  </style>

</head>
<body resolved>

<div id="home" style="display:none;">
  <div class="splash">
    <div class="layout horizontal center-justified">
      <div class="self-center">
        <h1><div>EcoSIS</div></h1>
        <h1 class="splash-url">
          ecosis.org
        </h1>
        <h3>Spectral Library</h3>
      </div>
    </div>
  </div>

  <!--<img src="../assets/banner-slim.png" style="width:100%"/>-->

  <home-stats></home-stats>

  <div style="margin-top:30px; text-align:center; border-top: 1px solid #eee; padding: 25px 5%">
    Data maintainers, <a id="mainainerLink" href="http://data.ecosis.org">Enter Here</a> |
    <a href="http://tutorial.ecosis.org" target="_blank">EcoSIS Tutorials</a>
  </div>

</div>

<div id="search" style="display:none;">
  <div class="page-header" style="margin:15px">
    <div class="row">
      <div class="col-md-9">
        <h4>EcoSIS Spectral Library <span class="sandbox">Sandbox</span></h4>
      </div>
      <div class="col-md-3">
        <a class='btn btn-primary pull-right' href="/#home" style="margin:5px">
          <i class="fa fa-home"></i> Home
        </a>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="well">
      <div class="row">
        <div class="col-md-5" >

          <div class="layout horizontal">
            <div class="flex">
                <input id="search-text" type="text" class="form-control" placeholder="Keywords" style="background-color: white;" >
                <search-text-suggest></search-text-suggest>
            </div>
            <div>
              <button id="search-btn" class="btn btn-default" type="button" style="margin-left:5px"><i class="fa fa-search"></i> Search</button>
            </div>
          </div>

        </div>
        <div class="col-md-7" id="active-filters"></div>
      </div>
    </div>


    <div class="row">
      <div class="col-md-3">
        <div class="well" style="overflow:hidden;">
          <ul class="nav nav-list" id="filter-nav"></ul>
        </div>
        <div class="well" style="display:none">
          <ul class="nav nav-list" id="compare-list"></ul>
        </div>
      </div>
      <div class="col-md-9">
        <div class="page-header" style="margin:10px 0 0 0; border: none">
            <div class="row">
              <div class="col-md-6">
                <h4 id="results-title">Search Results</h4>
              </div>
              <div class="col-md-6">
                <ul id="search-paging-btns" class="pagination pull-right" style="margin:0px"></ul>
              </div>
            </div>
        </div>
        <div id="results-panel"></div>
        <ul id="search-paging-btns-bottom" class="pagination pull-right" style="margin:0px"></ul>
      </div>
    </div>

    <div id="search-footer" style="text-align:center;margin-top: 100px;padding-top: 20px; border-top:1px solid #eee">
      <div id="current-search-rest-link"></div>
    </div>
  </div>

</div>

<div id="result" style="display:none">
  <results-panel></results-panel>
</div>


<div class="modal fade" id="all-filters-popup">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
        <h4 class="modal-title"></h4>
      </div>
      <div class="modal-body"></div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="custom-filters-popup">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
        <h4 class="modal-title">Create Custom Filter</h4>
      </div>
      <div class="modal-body">
        <div class="form-horizontal">
          <div class="form-group">
            <label for="inputCustomFilter" class="col-lg-2 control-label">Filter</label>
            <div class="col-lg-10">
              <input type="text" class="form-control" id="inputCustomFilter" placeholder="Custom Filter">
              <div class="help-block">
                Create custom filter using the following expression.
                <ul>
                  <li><b>Equals:</b> <i>Attribute Name</i>=<i>Value</i>  <br />Ex: Latin Genus=Acer
                  </li>
                  <li><b>Has Attribute:</b> ^<i>Attribute Name</i>  <br />Ex: ^Light Source</li>
                  <li><b>With Regex:</b> <i>Attribute Name</i>=<i>/regular expression/</i>  <br />Ex: Common Name=/maple$/
                    <br />Do not apply flags (e.g. /maple$/i with 'i' being the case insensitive flag).  'i' is applied by default.
                  </li>
                  <li><b>Multiple Expressions:</b> <i>Attribute Name</i>=<i>Value</i>, ^<i>Attribute Name</i>  <br />Ex: Latin Genus=Acer, ^Nitrogen</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" id="set-custom-filter">Set</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="geo-filter">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h3><i class="icon-globe"></i> Filter By Location</h3>
      </div>
      <div class="modal-body">
    	<div id="geo-filter-body">
    		<div id="geo-filter-map" style="height:300px;width:100%;border:1px solid #ccc"></div>
    		<div>
    			<table class="table">
    				<tr><td>Latitude: </td><td id="geo-filter-current-lat"></td>
    						<td>Longitude: </td><td id="geo-filter-current-lng"></td>
    				</tr>
    				<tr><td>Radius: </td><td id="geo-filter-current-radius"></td>
    					<td id="geo-filter-current-matches-outer">Matches: </td><td id="geo-filter-current-matches" style="width:225px"></td>
    				</tr>
    			</table>
    		</div>
    		<div class="help-block" style="font-style:italic">
    			*Datasets without geographic location information will not be included in your search results when the geographic
    			filter is applied.
    		</div>
    	</div>
      </div>
      <div class="modal-footer">
      	<a class="btn btn-primary pull-left" id="geo-filter-select"><i class="icon-filter"></i> Set Filter</a>
      	<a class="btn btn-success pull-left" id="geo-filter-geolocate"><i class="icon-screenshot"></i> Locate Me</a>
        <a class="btn pull-right" data-dismiss="modal" >Cancel</a>
      </div>
    </div>
  </div>
</div>

<div id="loading" style="display:none; position:fixed; top:0px; text-align:center; width:100%;" class="animated fadeInDown">
  <span class="label label-primary">Loading...</span>
</div>

<div id="gitInfo" style="padding: 50px 30px; color: #888; font-size: 12px; font-style: italic"></div>
<script>
  $.get('/git/info', function(resp){
    var html = '';
    if( resp && resp.branch == 'master' ) return;
    for( var key in resp ) html += '<div><b>'+key+':</b> '+resp[key]+'</div>';
    $('#gitInfo').html(html);
    $('.sandbox').show();
  });

  if( window.location.hostname == 'dev-search.ecospectra.org' ) {
    $('.sandbox').show();
    $('#mainainerLink').attr('href','http://dev-data.ecospectra.org');
  }
</script>
<script src="/analytics"></script>

</body></html>
